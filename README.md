# ğŸ§© í”„ë¡œì íŠ¸ êµ¬ì¡° ê°€ì´ë“œ (Feature-Sliced Design ê¸°ë°˜)

ì´ í”„ë¡œì íŠ¸ëŠ” **Next.js App Router ê¸°ë°˜**ì´ë©°, **Feature-Sliced Design (FSD)** ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ê¸°ëŠ¥ ì¤‘ì‹¬ í™•ì¥ì„±**, **ìœ ì§€ë³´ìˆ˜ì„±**, **ì¬ì‚¬ìš©ì„±**ì„ ê·¹ëŒ€í™”í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ§­ ì„¤ê³„ ëª©ì  ë° ë°©í–¥

### âœ… 1. ê¸°ëŠ¥ ì¤‘ì‹¬ ëª¨ë“ˆí™” (`features/`)

- ë¡œê·¸ì¸, íšŒì›ê°€ì…, ê²€ìƒ‰ì°½ ë“± ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì¤‘ì‹¬ì˜ **ì‘ì€ ê¸°ëŠ¥ ë‹¨ìœ„(feature)**ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
- ê° featureëŠ” `ui/`, `model/`, `api/`, `lib/`, `types/` ì„¸ê·¸ë¨¼íŠ¸ë¡œ êµ¬ì„±ë˜ë©°, ê³µê°œ APIëŠ” `index.ts`ì—ì„œ ì œê³µí•©ë‹ˆë‹¤.
- `api/`: ì™¸ë¶€ API ìš”ì²­ ë¡œì§ ë‹´ë‹¹ (fetch, axios ë“±)
- `lib/`: ìˆœìˆ˜ ìœ í‹¸ í•¨ìˆ˜, ê²€ì¦, ê³„ì‚° ë“± ë‚´ë¶€ ë¹„ì¦ˆë‹ˆìŠ¤ ë³´ì¡° í•¨ìˆ˜ ë‹´ë‹¹

### âœ… 2. ë„ë©”ì¸ ìƒíƒœ ë° ëª¨ë¸ì€ `entities/`

- User, Post ë“± ë¹„ì¦ˆë‹ˆìŠ¤ ì¤‘ì‹¬ì˜ ìƒíƒœëŠ” `entities/`ì— ì •ì˜í•˜ë©°, ì—¬ëŸ¬ featureì—ì„œ ê³µìœ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- zustand, recoil ë“± ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ë©°, UI ì¡°ê°, íƒ€ì…, ìƒíƒœ ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.
- ê° entitiesëŠ” `ui/`, `model/`, `types/` ì„¸ê·¸ë¨¼íŠ¸ë¡œ êµ¬ì„±ë˜ë©°, ê³µê°œ APIëŠ” `index.ts`ì—ì„œ ì œê³µí•©ë‹ˆë‹¤.
- `ui/`: ë„ë©”ì¸ ê°œì²´ì˜ ì‹œê°í™”ë¥¼ ìœ„í•œ â€œí‘œí˜„ìš© UI ì»´í¬ë„ŒíŠ¸â€
- `model/`: ë„ë©”ì¸(Entity)ì˜ ìƒíƒœ(state)ì™€ ì¡°ì‘ ë¡œì§ì„ í¬í•¨í•œ ì „ì—­ ìƒíƒœì˜ ì¶œë°œì 

### âœ… 3. ê³ ìˆ˜ì¤€ UI ì¡°ë¦½ì€ `widgets/`

- ì—¬ëŸ¬ featureì™€ entityë¥¼ ì¡°í•©í•˜ì—¬ **ì¤‘ê°„ ë³µì¡ë„ ì´ìƒì˜ UI ë¸”ë¡**ì„ êµ¬ì„±í•©ë‹ˆë‹¤.
- ì˜ˆ: `loginSection`, `signupSection`, `profileSidebar` ë“± í•˜ë‚˜ì˜ ì‹œê°ì /ê¸°ëŠ¥ì  ë¸”ë¡
- ë‚´ë¶€ì ìœ¼ë¡œëŠ” `ui/` ì„¸ê·¸ë¨¼íŠ¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

### âœ… 4. ì „ì—­ ìœ í‹¸ê³¼ ì»´í¬ë„ŒíŠ¸ëŠ” `shared/`

- ê³µí†µ ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ í•¨ìˆ˜, API ì¸ìŠ¤í„´ìŠ¤, íƒ€ì… ì •ì˜ëŠ” `shared/`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.
- **ì–´ë–¤ ë ˆì´ì–´ì—ì„œë„ ì°¸ì¡° ê°€ëŠ¥**í•˜ì§€ë§Œ, **sharedëŠ” ëˆ„êµ¬ë„ ì°¸ì¡°í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.**
- ë³µì¡í•œ ì „ì—­ íƒ€ì…ë„ `shared/types/` ì„¸ê·¸ë¨¼íŠ¸ ë‚´ì— ê´€ë¦¬í•©ë‹ˆë‹¤.

### âœ… 5. í˜ì´ì§€ëŠ” `app/`ì—ì„œ ì§ì ‘ êµ¬ì„±

- Next.js App Router ê¸°ë°˜ì—ì„œ í˜ì´ì§€ êµ¬ì„±ì€ `app/` ë””ë ‰í† ë¦¬ì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
- í˜ì´ì§€ëŠ” feature/widgetì„ ì¡°ë¦½í•˜ì—¬ ì‹¤ì œ í˜ì´ì§€ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.
- FSDì˜ `pages/` ê°œë…ì€ App Routerì—ì„  `app/`ìœ¼ë¡œ ëŒ€ì²´ë˜ë¯€ë¡œ, `pages/`ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## ğŸ“ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° (FSD ê¸°ì¤€)

```plaintext
src/
â”œâ”€â”€ app/                                  # Next.js App Router ë¼ìš°íŒ…
â”‚   â””â”€â”€ login/
â”‚       â””â”€â”€ page.tsx                      # ë¡œê·¸ì¸ í˜ì´ì§€ ë¼ìš°íŠ¸
â”œâ”€â”€ features/                             # ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì¤‘ì‹¬ ê¸°ëŠ¥ (ê¸°ëŠ¥ ë‹¨ìœ„)
â”‚   â””â”€â”€ signup/
â”‚       â”œâ”€â”€ ui/                           # ì¸í’‹, ë²„íŠ¼ ë“± ì¡°ë¦½ ê°€ëŠ¥í•œ ë‹¨ìœ„
â”‚       â”œâ”€â”€ model/                        # ìƒíƒœ, ë¡œì§ í›…
â”‚       â”œâ”€â”€ api/                          # API í˜¸ì¶œ í•¨ìˆ˜
â”‚       â”‚   lib/                          # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ìˆœìˆ˜ í•¨ìˆ˜)
â”‚       â”œâ”€â”€ types/                        # ë‚´ë¶€ ì „ìš© íƒ€ì…
â”‚       â””â”€â”€ index.ts                      # ê³µê°œ API
â”œâ”€â”€ entities/                             # ë„ë©”ì¸ ìƒíƒœ ë° í•µì‹¬ ëª¨ë¸
â”‚   â””â”€â”€ user/
â”‚       â”œâ”€â”€ model/                        # ìƒíƒœ store (zustand)
â”‚       â”œâ”€â”€ ui/                           # ê´€ë ¨ ê³µí†µ UI (Avatar ë“±)
â”‚       â”œâ”€â”€ types/                        # ë„ë©”ì¸ íƒ€ì… ì •ì˜
â”‚       â””â”€â”€ index.ts                      # ê³µê°œ API
â”œâ”€â”€ widgets/                              # ê³ ìˆ˜ì¤€ UI ì¡°ë¦½ ë‹¨ìœ„
â”‚   â””â”€â”€ loginSection/
â”‚       â””â”€â”€ ui/
â”‚           â”œâ”€â”€ loginSection.tsx         # ë°°ë„ˆ + ë¡œê·¸ì¸ í¼ ì¡°ë¦½
â”‚           â”œâ”€â”€ loginBanner.tsx
â”‚           â”œâ”€â”€ loginNotice.tsx
â”‚           â””â”€â”€ signupForm.tsx           # ì¡°ë¦½ëœ SignupForm ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ shared/                               # ì „ì—­ ìœ í‹¸, API, íƒ€ì…, ê³µí†µ UI
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ axiosInstance.ts
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â””â”€â”€ Button.tsx
â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â””â”€â”€ routes.ts
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ auth.ts
```

---

## â›” ì˜ì¡´ì„± ê·œì¹™ (Dependency Rule)

```plaintext
app       â†’ widgets, features, entities, shared
widgets   â†’ features, entities, shared
features  â†’ entities, shared
entities  â†’ shared
shared    â†’ (ì•„ë¬´ ê²ƒë„ import ê¸ˆì§€)
```

> ì˜ì¡´ì„±ì€ **í•œ ë°©í–¥ìœ¼ë¡œë§Œ íë¥¼ ìˆ˜ ìˆìœ¼ë©°**, ìƒìœ„ ë ˆì´ì–´ëŠ” í•˜ìœ„ ë ˆì´ì–´ë§Œ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”„ ìƒíƒœê´€ë¦¬ ì „ëµ

- `features/`ëŠ” ì£¼ë¡œ ë¡œì»¬ ìƒíƒœ ë° UI ê²€ì¦ ë¡œì§ì„ ë‹´ë‹¹ (`useSignupForm`, `useLoginForm` ë“±)
- `entities/`ëŠ” ê¸€ë¡œë²Œí•œ ìƒíƒœ ê´€ë¦¬ ì±…ì„ (ex. ë¡œê·¸ì¸ ìœ ì € ìƒíƒœ â†’ `useUserStore`)
- ìƒíƒœëŠ” ê°€ëŠ¥í•œ **ë‹¨ì¼ ì†ŒìŠ¤ ì›ì¹™(Single Source of Truth)**ì„ ë”°ë¥´ê³ , UIì—ëŠ” propsë¥¼ í†µí•´ ì „ë‹¬

---

## ğŸ“¦ ê³µê°œ API (index.ts)

ê° SliceëŠ” `index.ts`ë¥¼ í†µí•´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸, í›…, íƒ€ì…ë§Œ ì™¸ë¶€ë¡œ ë…¸ì¶œí•©ë‹ˆë‹¤.
ë‚´ë¶€ ë¡œì§ì€ ìˆ¨ê¸°ê³ , í•„ìš”í•œ ê²ƒë§Œ ê³µê°œí•˜ì—¬ **ì‘ì§‘ì„±ê³¼ ìº¡ìŠí™”**ë¥¼ ë†’ì…ë‹ˆë‹¤.

```ts
// features/signup/index.ts
export { useSignupForm } from "./model/useSignupForm";
export { default as SignupEmailInput } from "./ui/signupEmailInput";
export { default as SignupPasswordInput } from "./ui/signupPasswordInput";
export { default as SignupSubmitButton } from "./ui/signupSubmitButton";
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

- í…ŒìŠ¤íŠ¸ëŠ” ê° ê¸°ëŠ¥ í´ë” ë‚´ `__tests__/` ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜
- `Jest` + `Testing Library` ê¸°ë°˜ìœ¼ë¡œ ë™ì‘, ìœ íš¨ì„±, íë¦„ì„ ê²€ì¦
- ê³µí†µ ëª¨í‚¹ì€ `/__mocks__/` ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜

```plaintext
features/
  â””â”€â”€ signup/
      â””â”€â”€ __tests__/
          â””â”€â”€ signupForm.test.tsx
shared/
  â””â”€â”€ ui/
      â”œâ”€â”€ button.tsx
      â””â”€â”€ __tests__/
          â””â”€â”€ button.test.tsx
```

### í…ŒìŠ¤íŠ¸ ë²”ì£¼ ì˜ˆì‹œ

| ìœ í˜•             | ì„¤ëª…                                     |
| ---------------- | ---------------------------------------- |
| ë Œë”ë§ í…ŒìŠ¤íŠ¸    | ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì—¬ë¶€ í™•ì¸                |
| ìœ íš¨ì„± í…ŒìŠ¤íŠ¸    | ì…ë ¥ê°’ ê²€ì¦ ë° ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸          |
| ë™ì‘ í…ŒìŠ¤íŠ¸      | ë²„íŠ¼ í´ë¦­ â†’ ìš”ì²­ ì‹¤í–‰ ì—¬ë¶€ ê²€ì¦          |
| í†µí•© íë¦„ í…ŒìŠ¤íŠ¸ | ë¡œê·¸ì¸ í›„ ë¦¬ë””ë ‰ì…˜ ë“± ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦ |

---

## â“ì™œ `processes/`, `pages/`ëŠ” ìƒëµë˜ì—ˆëŠ”ê°€?

### âœ… `processes/` ìƒëµ ì´ìœ 

- ë‹¨ìˆœ ì¡°í•©ì„ ìœ„í•œ ì¤‘ê°„ ê³„ì¸µì€ í˜„ì¬ í”„ë¡œì íŠ¸ ê·œëª¨ì—ì„  í•„ìš”í•˜ì§€ ì•ŠìŒ
- í˜ì´ì§€ ë˜ëŠ” ìœ„ì ¯ì—ì„œ ì§ì ‘ feature ì¡°ë¦½ìœ¼ë¡œ ì¶©ë¶„

### âœ… `pages/` ìƒëµ ì´ìœ 

- Next.js App Router ê¸°ë°˜ì—ì„œëŠ” `app/`ì´ `pages/`ë¥¼ ëŒ€ì²´í•¨
- ê¸°ì¡´ `pages/` êµ¬ì¡°ëŠ” Pages Routerìš©ì´ë¯€ë¡œ, App Routerì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

---

## â–¶ï¸ ì‹œì‘ ë°©ë²•

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

---

## âœ… ìš”ì•½ ë¬¸ì¥

> ì´ í”„ë¡œì íŠ¸ëŠ” **Feature-Sliced Design ì•„í‚¤í…ì²˜**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ `features/`, `entities/`, `widgets/`, `shared/`, `app/` ê³„ì¸µì„ í†µí•´ **ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬**ì™€ **ê¸°ëŠ¥ ì¤‘ì‹¬ì˜ êµ¬ì¡° í™•ì¥ì„±**ì„ í™•ë³´í•˜ì˜€ìœ¼ë©°, `processes/`, `pages/`ëŠ” **Next.js App Router ê¸°ì¤€ìœ¼ë¡œ ìƒëµ**ë˜ì—ˆìŠµë‹ˆë‹¤.
